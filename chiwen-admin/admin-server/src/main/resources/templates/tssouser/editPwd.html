[#include "/layout/layout_top.html"]
<div class="col-xs-10 mainCont">
	<div class="section main21" style="height:100%">
			<h2>密码修改</h2>
			<br/>
		<div class="alert alert-danger" id="alert-panel" style="display: none">
			<button type="button" class="close"
				onclick="$('#alert-panel').hide();">&times;</button>
			<div class="alert-body" id="alert-panel-body"></div>
		</div>
		[#if error!=null]
		<script type="text/javascript">
			$('#alert-panel-body').html("${error}");
			$('#alert-panel').show();
		</script>
		[/#if]
		<form action="updatepwd" id="gsForm" method="post" name="gsForm"
			autocomplete="off">
			<input
				class="form-control" type="password" name="sdds" value=""
				style="display: none">
			<div class="row">
				<div class="row col-md-8 gs-min-width form-item">
					<label class="col-md-4 gs_table_label text-right"><span
						class="glyphicon glyphicon-asterisk require_ico"></span>原始密码:</label>
					<div class="col-sm-8">
						<input class="form-control" type="password" name="oldpwd" value=""
							data-rule="原始密码:required;oldpwd;">
					</div>
				</div>
			</div>

			<div class="row">
				<div class="row col-md-8 gs-min-width form-item">
					<label class="col-md-4 gs_table_label text-right"><span
						class="glyphicon glyphicon-asterisk require_ico"></span>新密码:</label>
					<div class="col-sm-8">
						<input id="newpwd" class="form-control" type="password"
							name="newpwd" value="" data-rule="密码: required;newpwd;length[8~15, true];">
					</div>
				</div>
			</div>
			<div class="row">
				<div class="row col-md-8 gs-min-width form-item">
					<label class="col-md-4 gs_table_label text-right"><span
						class="glyphicon glyphicon-asterisk require_ico"></span>再次输入密码:</label>
					<div class="col-sm-8">
						<input id="pwd" class="form-control" type="password" value=""
							data-rule="确认密码: required;match(newpwd);">
					</div>
				</div>
			</div>
			
	<div class="row gs_input_form gs-min-width form-item">
		<button type="button" class="btn btn-default btn-lg gs_save_btn" onclick="checkForm()">保存</button>
	</div>
	</div>


	</form>
</div>
</div>
[#include "/layout/layout_bottom.html"]

<script type="text/javascript">
	function checkForm(){
		var reg=/(?=.*[a-z])(?=.*\d)(?=.*[#@!~%^&*_])[a-z\d#@!~%^&*_]{8,16}/;
		var pwdVal = $("#newpwd").val();
		if(reg.test(pwdVal)){
			document.gsForm.submit();
		}else{
			$('#alert-panel-body').html("密码必须包含数字字母特殊符(!@#$%^&*~)");
			$('#alert-panel').show();
		}
	}
</script>
